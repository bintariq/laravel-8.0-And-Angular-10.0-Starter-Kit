<div class="header bg-primary pb-6">
    <div class="container-fluid">
        <div class="header-body">
        <div class="row align-items-center py-4">
            <div class="col-lg-6 col-7">

            <nav aria-label="breadcrumb" class="d-none d-md-inline-block" >
                <ol class="breadcrumb breadcrumb-links breadcrumb-dark" style="margin-bottom: 0;">
                <li class="breadcrumb-item"><a href="javascript:void(0)" routerLink="/workforce/dashboard"><i class="fas fa-home"></i></a></li>

                <li class="breadcrumb-item active" aria-current="page">Time Approval List</li>
                </ol>
            </nav>
            </div>
            <div class="col-lg-6 col-5 text-right">
            </div>
        </div>
        </div>
    </div>
</div>

<!-- Page content -->
<div class="container-fluid mt--6">
    <div class="row">

        <div class="col">
            <div class="card p-4">
                <div class="card-header border-0">
                    <div class="row align-items-center justify-content-between">
                        <div class="col-md-10">
                            <h2 class="mb-0">{{'Time Approval List'}}</h2>
                        </div>

                    </div>
                </div>
              <div class="card-body">

                <div class="mt-3">
                    <tabset>
                      <tab heading="{{item.name}}" *ngFor="let item of workforceData">
                        <div class="col-12 p-0">
                          <tabset>
                            <tab heading="{{itemProject.project_reference_no}}" *ngFor="let itemProject of item?.siteprojects">
                              <div class="col-12 p-0">
                                <div class="table-responsive">
                                <table class="table table-striped mb-4">
                                  <thead>
                                    <tr style="background-color:  #006A4D;">
                                      <th scope="col">ID</th>
                                      <th scope="col">User</th>
                                      <th scope="col">Time</th>
                                      <th scope="col">Time Type</th>
                                      <th scope="col">Description</th>
                                      <th scope="col">Added Date</th>
                                      <th scope="col">Status</th>
                                      <th scope="col">Approved By</th>
                                      <th scope="col">Approved Date</th>
                                      <th></th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr *ngFor="let h of itemProject?.projectHistory">
                                      <td>{{h.workforce_projects_id}}</td>
                                      <td>
                                        {{h?.workforce_name}}
                                      </td>

                                      <td>{{h.spent_hours}}</td>
                                      <td>{{h.time_type}}</td>
                                      <td>{{h.description}}</td>
                                      <td>{{h.created_at}}</td>
                                      <td>
                                        <span *ngIf="h.approved == 0">Pending</span>
                                        <span *ngIf="h.approved == 1">Approved</span>
                                        <span *ngIf="h.approved == 2">Cancel</span>
                                      </td>
                                      <td ><span *ngIf="h.approved != 0">{{h.approved_teamleader_name}}</span></td>
                                      <td ><span *ngIf="h.approved != 0">{{h.approved_date}}</span></td>
                                      <td><button class="btn text-white btn-icon-only bg-warning"  (click)="showviewworkforce(h)"><i class="fa fa-eye" aria-hidden="true"></i></button></td>
                                    </tr>
                                  </tbody>
                                </table>
                                </div>
                              </div>
                            </tab>
                          </tabset>
                        </div>
                      </tab>




                    </tabset>

                  </div>

              </div>
            </div>
        </div>
        <!-- <app-assign-project  #viewProject ></app-assign-project> -->
        <viewWorkforceTime  #viewworkforce ></viewWorkforceTime>
    </div>
</div>
