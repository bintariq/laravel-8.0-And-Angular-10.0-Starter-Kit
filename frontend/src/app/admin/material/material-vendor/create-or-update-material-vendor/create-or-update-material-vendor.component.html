<!-- Header -->
<div class="header bg-primary pb-6">
    <div class="container-fluid">
        <div class="header-body">
            <div class="row align-items-center py-4">
                <div class="col-lg-6 col-7">

                    <nav aria-label="breadcrumb" class="d-none d-md-inline-block">
                        <ol class="breadcrumb breadcrumb-links breadcrumb-dark" style="margin-bottom: 0;">
                            <li class="breadcrumb-item"><a href="javascript:void(0)" routerLink="/admin/dashboard"><i
                                        class="fas fa-home"></i></a></li>
                            <li class="breadcrumb-item"><a href="javascript:void(0)"
                                    routerLink="/admin/material/material-distributor">{{'Material Distributor' |
                                    translate}}</a></li>
                            <li class="breadcrumb-item active" aria-current="page">{{'Add' | translate}}</li>
                        </ol>
                    </nav>
                </div>

            </div>

        </div>
    </div>
</div>


<!-- Page content -->
<div class="container-fluid mt--6">
    <div class="row">
        <div class="col">
            <div class="card">
                <!-- Card header -->
                <div class="card-header border-0">
                    <div class="col-md-12">

                        <form [formGroup]="createVendor" (ngSubmit)="onSubmitVendor()">
                            <div class="row">

                                <div class="form-group col-lg-6">
                                    <label class="form-control-label" for="vender_name">{{'Distributor Name' |
                                        translate}}</label>

                                    <input type="text" placeholder="{{'Distributor Name' | translate}}"
                                        class="form-control" id="vender_name" formControlName="vender_name"
                                        [ngClass]="{ 'is-invalid': submittedCreateVendor && cv.vender_name.errors }" />
                                    <div *ngIf="submittedCreateVendor && cv.vender_name.errors"
                                        class="invalid-feedback">
                                        <div *ngIf="cv.vender_name.errors.required">{{'Distributor Name is required' | translate}}</div>
                                    </div>
                                </div>



                                <div class="form-group col-lg-6">
                                    <label class="form-control-label" for="vender_first_email">{{'Distributor Email' | translate}}</label>

                                    <input type="email" placeholder="{{'Distributor Email' | translate}}"
                                        class="form-control" id="vender_first_email"
                                        formControlName="vender_first_email"
                                        [ngClass]="{ 'is-invalid': submittedCreateVendor && cv.vender_first_email.errors }" />
                                    <div *ngIf="submittedCreateVendor && cv.vender_first_email.errors"
                                        class="invalid-feedback">
                                        <div *ngIf="cv.vender_first_email.errors.required">{{'Email is required' | translate}}</div>
                                        <div *ngIf="cv.vender_first_email.errors.pattern">{{'Email is not valid' | translate}}</div>

                                    </div>
                                   
                                </div>

                                <div class="form-group col-lg-6">
                                    <label class="form-control-label" for="vender_second_email">{{'Secondary Email' | translate}}</label>

                                    <input type="email" placeholder="{{'Optional Email' | translate}}"
                                        class="form-control" id="vender_second_email"
                                        formControlName="vender_second_email"
                                        [ngClass]="{ 'is-invalid': submittedCreateVendor && cv.vender_second_email.errors }" />

                                    <div *ngIf="submittedCreateVendor && cv.vender_second_email.errors"
                                        class="invalid-feedback">

                                        <div *ngIf="cv.vender_second_email.errors.pattern">{{'Email is not valid' | translate}}</div>

                                    </div>

                                </div>

                                <div class="form-group col-lg-6">
                                    <label class="form-control-label" for="phone">{{'Phone' | translate}}</label>
                                    <div class="input-group">
                                        <div class="col-md-6 p-0">
                                            <ng-select appearance="outline" [searchable]="true"
                                                placeholder="Country Code" [clearable]="false" class="cs-select w-100"
                                                required formControlName="country_code">
                                                <ng-option value="{{c.callingCodes[0]}}"
                                                    *ngFor="let c of config.countriesList">
                                                    <img class="img-fluid mr-2" src="{{c.flag}}" width="30px" />
                                                    {{c.name}}
                                                </ng-option>

                                            </ng-select>
                                            <div *ngIf="submittedCreateVendor && cv.country_code.errors"
                                                class="invalid-feedback d-block">
                                                <div *ngIf="cv.country_code.errors.required">{{'Code is required' | translate}}</div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 pr-0">
                                            <input type="text" formControlName="phone"  class="form-control w-100" id="phone" aria-describedby="phoneHelp" placeholder="XXXX XXX XXXX" mask="0000 000 0000" [ngClass]="{ 'is-invalid': submittedCreateVendor && cv.phone.errors }" />

                                            <div *ngIf="submittedCreateVendor && cv.phone.errors"
                                                class="invalid-feedback">
                                                <div *ngIf="cv.phone.errors.required">{{'Phone is required' | translate}}</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group col-lg-6">
                                    <label class="form-control-label" for="address">{{'Address' | translate}}</label>
                                    <input class="form-control" formControlName="address" (keyup)="AddressChange($event)" (onAddressChange)="AddressChange($event)" ngx-google-places-autocomplete [ngClass]="{ 'is-invalid': submittedCreateVendor && cv.address.errors }" />

                                    <div *ngIf="submittedCreateVendor && cv.address.errors" class="invalid-feedback">
                                        <div *ngIf="cv.address.errors.required">{{'Address is required' | translate}}
                                        </div>
                                    </div>
                                </div>



                                <div class="form-group col-lg-6">
                                    <label class="form-control-label" for="commanDist">{{'Common Distributor' |
                                        translate}}</label>
                                    <ng-select formControlName="commanDist" [items]="commanDistribuot"
                                        placeholder="Select Distributor" bindLabel="name" required bindValue="id"
                                        [ngClass]="{ 'is-invalid': submittedCreateVendor && cv.commanDist.errors }">
                                    </ng-select>
                                    <!-- <select                                    class="form-control" id="country" formControlName="commanDist"
                                    [ngClass]="{ 'is-invalid': submittedCreateVendor && cv.commanDist.errors }" >
                                        <option [ngValue]="null">{{'Common Distributor' | translate}}</option>
                                        <option [value]="c.id" *ngFor="let c of commanDistribuot">{{c.name}}</option>
                                    </select> -->

                                    <div *ngIf="submittedCreateVendor && cv.commanDist.errors"
                                        class="invalid-feedback d-block">
                                        <div *ngIf="cv.commanDist.errors.required">{{'Distributor is required' |
                                            translate}}</div>
                                    </div>
                                </div>

                                <div class="form-group col-lg-6">
                                    <label class="form-control-label" for="country">{{'Country' | translate}}</label>
                                    <ng-select (change)="changeCountry($event)" formControlName="country"
                                        [items]="countriesList" bindLabel="name" placeholder="Select Country"
                                        bindValue="id"
                                        [ngClass]="{ 'is-invalid': submittedCreateVendor && cv.country.errors }">
                                    </ng-select>
                                    <!-- <select                                    class="form-control" id="country" formControlName="country"
                                    [ngClass]="{ 'is-invalid': submittedCreateVendor && cv.country.errors }" >
                                        <option [ngValue]="null">{{'Select Country' | translate}}</option>
                                        <option [value]="c.id" *ngFor="let c of countriesList">{{c.name}}</option>
                                    </select> -->

                                    <div *ngIf="submittedCreateVendor && cv.country.errors"
                                        class="invalid-feedback d-block">
                                        <div *ngIf="cv.country.errors.required">{{'Country is required' | translate}}
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group col-lg-6">
                                    <label class="form-control-label" for="state">{{'State' | translate}}</label>
                                    <ng-select (change)="changeProvince($event)" formControlName="state"
                                        [items]="provinceList" bindLabel="name" placeholder="Select State"
                                        bindValue="id">
                                    </ng-select>

                                    <!-- <select type="text"
                                    class="form-control" id="state" formControlName="state"
                                    [ngClass]="{ 'is-invalid': submittedCreateVendor && cv.state.errors }" (change)="changeProvince($event.target.value)">
                                        <option [ngValue]="null">{{'Select State' | translate}}</option>
                                        <option [value]="p.id" *ngFor="let p of provinceList">{{p.name}}</option>
                                    </select> -->


                                </div>

                                <div class="form-group col-lg-6">
                                    <label class="form-control-label" for="city">{{'City' | translate}}</label>
                                    <ng-select formControlName="city" [items]="cityList" bindLabel="name"
                                        placeholder="Select City" bindValue="id">
                                    </ng-select>

                                    <!-- <select type="text"
                                    class="form-control" id="city" formControlName="city"
                                    [ngClass]="{ 'is-invalid': submittedCreateVendor && cv.city.errors }">
                                        <option [ngValue]="null">{{'Select City' | translate}}</option>
                                        <option [value]="c.id" *ngFor="let c of cityList">{{c.name}}</option>
                                    </select> -->


                                </div>

                            </div>


                            <div class="row justify-content-end">
                                <div class="buttons">
                                    <button routerLink="/admin/material/material-distributor"
                                        class="btn btn-secondary">{{'Cancel' | translate}}</button>
                                    <button type="submit" class="btn btn-primary">{{'Save' | translate}}</button>
                                </div>
                            </div>
                        </form>


                    </div>
                </div>

            </div>
        </div>
    </div>
</div>